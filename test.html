<!DOCTYPE html>
<html>
<head>
  <title>超簡単・三浦流！明日食べていい量がリアルにわかる！寝ててもやせるダイエットカウンター</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Darumadrop+One&family=Dela+Gothic+One&family=DotGothic16&family=Kaisei+Decol:wght@700&family=RocknRoll+One&family=Zen+Kaku+Gothic+New:wght@400;500&display=swap" rel="stylesheet">  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container" id="illust"><img src="img/illustkun-03242-katsudon.png">
    <div id="stitle">超簡単・三浦流<br>ダイエットカウンター</div>
      
      明日食べていい食事量がリアルにわかる！<br>これさえ守れば寝ててもやせる！

<div id="intro">

    着目したのは「基礎代謝」。人間は運動をしなくても基本的な生命維持だけでカロリーを消費します。
    夜寝て、朝起きるだけで体重は減っています。自分自身の基礎代謝を理解した上で食事量や運動量を考えるための「見える化」サービスです。

</div>
    <table class="table">
      <tbody>

        <tr>
            <th>名前</th>
            <td><input id="name" type="text"></td>
          </tr>
          <tr>
            <th>性別</th>
            <td>
              <select id="gender">
                <option value="male">男性</option>
                <option value="female">女性</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>身長 (cm)</th>
            <td><input id="height" type="number"></td>
          </tr>
          <tr>
            <th>体重 (kg)</th>
            <td><input id="weight" type="number"></td>
          </tr>
          <tr>
            <th>年齢</th>
            <td><input id="age" type="number"></td>
          </tr>
          <tr>
            <th>計算結果（基礎代謝）</th>
            <td id="resultA"></td>
          </tr>
          <tr>
            <th>移動</th>
            <td>
              <select id="move">
                <option value="0">移動なし（0kcal）</option>
                <option value="50">徒歩15分（50kcal）</option>
                <option value="70">自転車15分（70kcal）</option>
                <option value="15">自動車運転15分（15kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>仕事</th>
            <td>
              <select id="work">
                <option value="0">仕事せずゴロゴロ（0kcal）</option>
                <option value="400">デスクワーク8時間（400kcal）</option>
                <option value="600">立ち仕事8時間（600kcal）</option>
                <option value="800">フィールドワーク8時間（800kcal）</option>
                <option value="2400">職人仕事8時間（2400kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>運動</th>
            <td>
              <select id="exercise">
                <option value="0">運動なし（0kcal）</option>
                <option value="200">ジム30分（200kcal）</option>
                <option value="600">水泳30分（600kcal）</option>
                <option value="200">走る30分（200kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>計算結果（運動負荷）</th>
            <td id="resultB"></td>
          </tr>
          <tr>
            <th>朝食</th>
            <td>
              <select id="breakfast">
                <option value="0">朝食抜き（0kcal）</option>
                <option value="150">ちょっと（150kcal）</option>
                <option value="350">かるく（350kcal）</option>
                <option value="700">ふつうに（700kcal）</option>
                <option value="1000">ガッツリ（1000kcal）</option>
                <option value="1500">デカ盛り（1500kcal）</option>
                <option value="2000">彦麿呂（2000kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>昼食</th>
            <td>
              <select id="lunch">
                <option value="0">昼食抜き（0kcal）</option>
                <option value="150">ちょっと（150kcal）</option>
                <option value="350">かるく（350kcal）</option>
                <option value="700">ふつうに（700kcal）</option>
                <option value="1000">ガッツリ（1000kcal）</option>
                <option value="1500">デカ盛り（1500kcal）</option>
                <option value="2000">彦麿呂（2000kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>夕食</th>
            <td>
              <select id="dinner">
                <option value="0">夕食抜き（0kcal）</option>
                <option value="150">ちょっと（150kcal）</option>
                <option value="350">かるく（350kcal）</option>
                <option value="700">ふつうに（700kcal）</option>
                <option value="1000">ガッツリ（1000kcal）</option>
                <option value="1500">デカ盛り（1500kcal）</option>
                <option value="2000">彦麿呂（2000kcal）</option>
              </select>
            </td>
          </tr>
          <tr>
            <th>間食</th>
            <td>
              <select id="snack">
                <option value="0">おやつ抜き（0kcal）</option>
                <option value="150">ちょっと（150kcal）</option>
                <option value="350">かるく（350kcal）</option>
                <option value="700">ふつうに（700kcal）</option>
                <option value="1000">ガッツリ（1000kcal）</option>
                <option value="1500">デカ盛り（1500kcal）</option>
                <option value="2000">彦麿呂（2000kcal）</option>
              </select>
            </td>
          </tr>

        <tr>
          <th>計算結果（C）</th>
          <td id="resultC"></td>
        </tr>
        <tr>
          <th>メッセージ（D）</th>
          <td id="message"></td>
        </tr>
      </tbody>
    </table>
    <button id="calculateAllButton" class="btn btn-primary">全計算</button>
    <button id="saveButton" class="btn btn-success">保存</button>
    <div id="saveResult"></div>
  </div>

  <script>
    // 計算結果（A）の計算と表示
    function calculateA() {
      const weight = document.getElementById('weight').value;
      const height = document.getElementById('height').value;
      const age = document.getElementById('age').value;
      const gender = document.getElementById('gender').value;

      let result;
      if (gender === 'male') {
        result = Math.ceil(13.397 * weight + 4.799 * height - 5.677 * age + 88.362);
      } else {
        result = Math.ceil(9.247 * weight + 3.098 * height - 4.33 * age + 447.593);
      }

      document.getElementById('resultA').textContent = result;
      return result;
    }

    // 計算結果（B）の計算と表示
    function calculateB(resultA) {
      const move = parseInt(document.getElementById('move').value);
      const work = parseInt(document.getElementById('work').value);
      const exercise = parseInt(document.getElementById('exercise').value);

      const result = resultA + move + work + exercise;

      document.getElementById('resultB').textContent = result;
      return result;
    }

    // 計算結果（C）の計算と表示
    function calculateC(resultB) {
      const breakfast = parseInt(document.getElementById('breakfast').value);
      const lunch = parseInt(document.getElementById('lunch').value);
      const dinner = parseInt(document.getElementById('dinner').value);
      const snack = parseInt(document.getElementById('snack').value);

      const result = resultB - breakfast - lunch - dinner - snack;

      document.getElementById('resultC').textContent = result;
      return result;
    }

    // メッセージ（D）の表示
    function showMessage(resultC) {
      let message;
      if (resultC >= 500) {
        message = 'プラマイ' + resultC +'kcal！ まだヨユー';
      } else if (resultC >= 150) {
        message = 'プラマイ' + resultC +'kcal！ ギリセーフ';
      } else if (resultC >= 0) {
        message = 'プラマイ' + resultC +'kcal! ギリ！';
      } else if (resultC >= -500) {
        message = 'プラマイ' + resultC +'kcal! デブ！';
      } else {
        message = 'プラマイ' + resultC + 'kcal! 超デブ！';
      }

      document.getElementById('message').textContent = message;
    }

    // 全計算の実行
    function calculateAll() {
      const resultA = calculateA();
      const resultB = calculateB(resultA);
      const resultC = calculateC(resultB);
      showMessage(resultC);
    }

    // 保存結果の表示
    function showSaveResult(resultA, resultB, resultC, message) {
      const saveResult = document.getElementById('saveResult');
      const newSaveResult = document.createElement('div');
      newSaveResult.textContent = `A: ${resultA}, B: ${resultB}, C: ${resultC}, D: ${message}`;
      saveResult.appendChild(newSaveResult);
    }

    // ボタンのイベントリスナーの設定
    document.getElementById('calculateAllButton').addEventListener('click', calculateAll);
    document.getElementById('saveButton').addEventListener('click', function() {
      const resultA = parseInt(document.getElementById('resultA').textContent);
      const resultB = parseInt(document.getElementById('resultB').textContent);
      const resultC = parseInt(document.getElementById('resultC').textContent);
      const message = document.getElementById('message').textContent;
      showSaveResult(resultA, resultB, resultC, message);
    });
  </script>
</body>
</html>
